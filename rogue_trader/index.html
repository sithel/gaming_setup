<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>My first Three.js app</title>
    <style>
      body { margin: 0; }
      canvas { width: 100%; height: 100% }
    </style>
  </head>
  <body>
    <script src="three.min.js"></script>
    <script src="orbitControls.js"></script>
    <script>

var orbits = [];
var colors = [0x00bfff, 0x00bfff, 0xff8000, 0xff8000, 0xff00ff, 0xff00ff];
function generateOrbit(num, freq, offset, distance, appraoch, scene) {
  var material = new THREE.MeshBasicMaterial({wireframe: true, color: colors[num-1], specular: 0x555555, shininess: 30, opacity: 0.5, transparent: true});
  var radius = distance;
  var segments = 60;

  var circleGeometry = new THREE.CircleGeometry( radius, segments );
  var cylinder = new THREE.Mesh( circleGeometry, material );
  // var cylinderGeometry = new THREE.CylinderGeometry( radius, radius, 0.2, 32 );
  // var cylinder = new THREE.Mesh( cylinderGeometry, material );

  var geometry = new THREE.SphereGeometry( 0.1, 32, 32 );
  var material = new THREE.MeshBasicMaterial( {color: 0xffff00} );
  var sphere = new THREE.Mesh( geometry, material );

  scene.add(sphere);
  scene.add(cylinder);

  orbits.push({
    obj: cylinder,
    s: sphere,
    dist: distance,
    rot: Math.random() * Math.PI * 2,
    srot: 6,
  });
}

var scene = new THREE.Scene();
var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );


generateOrbit(1, 3, 1, 1.5, 12, scene);
generateOrbit(3, 6, 3, 6, 4, scene);
generateOrbit(6, 15, 0, 15, 2, scene);

camera.position.z = 10;

var dirLight = new THREE.DirectionalLight(0xffffff, 1);
dirLight.position.set(100, 100, 50);
scene.add(dirLight);

var bluePoint = new THREE.PointLight(0x0033ff, 3, 150);
bluePoint.position.set( 70, 5, 70 );
scene.add(bluePoint);
scene.add(new THREE.PointLightHelper(bluePoint, 3));

var greenPoint = new THREE.PointLight(0x33ff00, 1, 150);
greenPoint.position.set( -70, 5, 70 );
scene.add(greenPoint);
scene.add(new THREE.PointLightHelper(greenPoint, 3));

var directionalLight = new THREE.DirectionalLight( 0xffffff, 0.5 );
directionalLight.position.set( 0, 1, 0 );
scene.add( directionalLight );
var renderer = new THREE.WebGLRenderer();
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild( renderer.domElement );
function render() {
  for(var i = 0; i < orbits.length; ++i) {
    var rr = orbits[i].obj;
    var s = orbits[i].s;
    rr.matrix.makeRotationAxis(new THREE.Vector3(0,1,0), orbits[i].rot)
    orbits[i].srot += 0.01;
    var vect = new THREE.Vector3(0, orbits[i].dist, 0).applyAxisAngle(new THREE.Vector3(0, 0, 1), orbits[i].srot);
    vect.applyAxisAngle(new THREE.Vector3(0,1,0), orbits[i].rot);
    s.matrix.setPosition(vect);
    s.matrixAutoUpdate = false;
    rr.matrixAutoUpdate = false;
  }
  requestAnimationFrame( render );
  renderer.render( scene, camera );
}
render();
controls = new THREE.OrbitControls( camera, renderer.domElement );

    </script>
  </body>
</html>